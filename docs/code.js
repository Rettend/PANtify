const songs = [
	{
		"artist": "ACDC",
		"song": "Highway to Hell",
		"lyrics": ["", "No stop signs, Speed limit, Nobody's gonna slow me down", "I'm on the highway to hell, Highway to hell, I'm on the highway to hell, Highway to hell"],
		"streamCount": 1010569617,
		"hasPlayed": false,
		"year": 1979
	}, {
		"artist": "Avicii",
		"song": "The nights",
		"lyrics": ["Once upon a younger year, When all our shadows disappeared, The animals...", "One day, my father, he told me Son, don't let it slip away, When I was just a kid, I heard him say, When you get older your wild heart will...", "Live a life you will remember, My father told me when I was just a child, These are the nights that never die, My father told me"],
		"streamCount": 1116498715,
		"hasPlayed": false,
		"year": 2014
	}, {
		"artist": "Hanson",
		"song": "MMMBop",
		"lyrics": ["Oh, Oh oh", "Duba, Duba, Du, Yeah, MmmBop, Duba", "Yeah, Mmmbop, ba duba dop, Ba du bop, ba duba dop ba du, yeah, Mmmbop, ba duba dop, Ba du bop, ba duba dop ba"],
		"streamCount": 131552367,
		"hasPlayed": false,
		"year": 1997
	}, {
		"artist": "Harley Poe",
		"song": "Eat Shit and Die",
		"lyrics": ["She said I never completed, Any goals that I laid down, I hear the...", "I kinda find it so funny, Walking up to you now, I didn't plan this I swear it, But I dug a home for you in the ground", "Can you fly? Can you fly? Eat shit and die (Eat shit and die), Eat shit and die (Eat shit and die)"],
		"streamCount": 2328919,
		"hasPlayed": false,
		"year": 2019
	}, {
		"artist": "IU (ft. SUGA)",
		"song": "eight",
		"lyrics": ["So are you happy now? Finally happy", "Forever young, Oh oh oh, Forever, we young, Oh oh oh", "Urineun orenji taeyang arae, Geurimja eopsi hamkke chumeul chwo, Jeonghaejin ibyeol ttawineun eopseo, Areumdawotdeon geu gieogeseo manna"],
		"streamCount": 208700169,
		"hasPlayed": false,
		"year": 2020
	}, {
		"artist": "ACDC",
		"song": "For Those About to Rock",
		"lyrics": ["", "For a twenty-one gun salute, For those about to rock, fire, we salute you", "For those about to rock, we salute you, For those about to rock, we salute you, For those about to rock"],
		"streamCount": 88495681,
		"hasPlayed": false,
		"year": 1981
	}, {
		"artist": "ACDC",
		"song": "Fire Your Guns",
		"lyrics": ["", "You gotta fire your guns, Fire your guns", "Fire when she's going down, Fire then she make you drown, Fire then she blow you round, Yeah, you want some fun, Fire your guns, Fire your guns"],
		"streamCount": 33363311,
		"hasPlayed": false,
		"year": 1990
	}, {
		"artist": "ACDC",
		"song": "Thunderstruck",
		"lyrics": ["Ah ah ah, Thunder, Ah ah ah", "Sound of the drums, Beating in my heart, The thunder of guns, Yeah", "Thunderstruck, yeah, yeah, yeah, Thunderstruck, thunderstruck, Thunderstruck, whoa, baby, baby, Thunderstruck, you've been thunderstruck"],
		"streamCount": 963360129,
		"hasPlayed": false,
		"year": 1990
	}, {
		"artist": "Adele",
		"song": "Rolling in the Deep",
		"lyrics": ["See how I'll leave with every piece of you, Don't...", "The scars of your love remind me of us, They keep me thinking that we almost had it all, The scars...", "They leave me breathless, I can't help feeling, We could've had it all (you're gonna wish you), (Never had met me), Rolling in the deep, You had my heart inside"],
		"streamCount": 1154857443,
		"hasPlayed": false,
		"year": 2011
	}, {
		"artist": "Aerosmith",
		"song": "I Don't Want to Miss a Thing",
		"lyrics": ["Lying close to you, feeling your heart beating", "... you is a moment I treasure, Don't want to close my eyes", "...you baby, And I don't want to miss a thing, 'Cause even when I dream of you, The sweetest dream will never do, I'd still miss you baby, And I don't want to miss a thing"],
		"streamCount": 734623519,
		"hasPlayed": false,
		"year": 1998
	}, {
		"artist": "Alan Walker",
		"song": "Alone",
		"lyrics": ["Lost in your mind", "...night is not forever, At least we are together, I know I'm not alone, I know I'm not alone, Anywhere, whenever...", "I know I'm not alone, I'm not alone, I'm not alone, I'm not alone (I know I'm not alone), I'm not alone"],
		"streamCount": 572988157,
		"hasPlayed": false,
		"year": 2018
	}, {
		"artist": "Alessia Cara",
		"song": "Scars To Your Beautiful",
		"lyrics": ["Oh, she don't see, the light that's shining, Deeper than the eyes can find it", "But there's a hope that's waiting for you in the dark, You should know you're beautiful just the way you are, And you don't...", "You don't have to change a thing, The world could change its heart, No scars to your beautiful, We're stars and we're beautiful"],
		"streamCount": 1073250309,
		"hasPlayed": false,
		"year": 2016
	}, {
		"artist": "Bag Raiders",
		"song": "Shooting Stars",
		"lyrics": ["", "", "Gave my love to a shooting star, But she moves so fast, That I can't keep up, I'm chasing, I'm in love with a shooting star, But she..."],
		"streamCount": 298662760,
		"hasPlayed": false,
		"year": 2009
	}, {
		"artist": "Bomba Estéreo",
		"song": "Soy Yo",
		"lyrics": ["Tarap, tarap, Yo, tarap", "Y no te preocupes si no te aprueban, Cuando te critiquen, tú solo di, Soy yo", "Soy yo, Soy yo (soy, soy, soy, soy, soy, soy, soy), Soy yo (yo, yo, yo, yo, yo, yo, yo)"],
		"streamCount": 67267950,
		"hasPlayed": false,
		"year": 2015
	}, {
		"artist": "BTS",
		"song": "Dynamite",
		"lyrics": ["'Cause I-I-I'm in the stars tonight, So watch me bring the fire...", "...and set the night alight (hey), Shining through the city with a little funk and soul, So I'ma light it up like dynamite, whoa oh oh", "...Na-na-na, life is dynamite. Dy-na-na-na, na-na, na-na-na, na-na-na, life is dynamite. Shining through the city with a little funk and soul. So I'ma light it up like dynamite, whoa oh oh"],
		"streamCount": 1415259815,
		"hasPlayed": false,
		"year": 2020
	}, {
		"artist": "Calvin Harris (ft. Pharrel Williams, Katy Perry, Big Sean)",
		"song": "Feels",
		"lyrics": ["", "...catch feels, Feels with me, I'm your window shopper, sucker for your love, oh, I'm wearing your goggles", "The way you move it here (hey), Just wanna feel it from you (hey), Don't be afraid to catch feels (ha), Ride drop top and chase thrills (oh-oh-oh, oh), I know you..."],
		"streamCount": 917575369,
		"hasPlayed": false,
		"year": 2017
	}, {
		"artist": "Chumbawamba",
		"song": "Tubthumping",
		"lyrics": ["We'll be singing, I get knocked down, but I get up...", "He drinks a Whiskey drink, he drinks a Vodka drink, He drinks a Lager drink, he drinks a Cider drink, He sings the songs that remind him of the good times, He sings the songs that remind him of the better times, Oh...", "I get knocked down, but I get up again, You are never gonna keep me down, I get knocked down, but I get up again, You are never gonna keep me down, I get knocked down, but I get up again, You are never gonna keep me down, I get knocked down"],
		"streamCount": 142803214,
		"hasPlayed": false,
		"year": 1997
	}, {
		"artist": "Coldplay (ft. BTS)",
		"song": "My Universe",
		"lyrics": ["", "You (you), you are (you are) my universe, And I (I) just want (just want) to put you first", "My universe (doo-doo, doo-doo), My universe (doo-doo, doo-doo), (You make my world), You make my world light up inside"],
		"streamCount": 679681060,
		"hasPlayed": false,
		"year": 2021
	}, {
		"artist": "David Bowie",
		"song": "Starman",
		"lyrics": ["", "Didn't know what time it was, The lights were low, oh, oh, I leaned back on my radio, oh, oh", "There's a Starman waiting in the sky, He'd like to come and meet us, But he thinks he'd blow our minds, There's a Starman waiting in the sky"],
		"streamCount": 298368113,
		"hasPlayed": false,
		"year": 1972
	}, {
		"artist": "Dire Straits",
		"song": "Sultans Of Swing",
		"lyrics": ["", "Then the man he steps right up to the microphone, And says at last just as the time bell rings", "We are the Sultans, We are the Sultans of Swing"],
		"streamCount": 799561909,
		"hasPlayed": false,
		"year": 1978
	}, {
		"artist": "Ed Sheeran",
		"song": "Bad Habits",
		"lyrics": ["Ooh-ooh", "Fallin' over everything to reach the first time's spark, It started...", "Bad habits lead to wide eyes stare into space, And I know I'll lose control of the things that I say, Yeah, I was lookin' for a way out, now I can't escape, Nothin' happens after two, it's true, It's true, my bad habits lead to you"],
		"streamCount": 1182416851,
		"hasPlayed": false,
		"year": 2021
	}, {
		"artist": "Electric Light Orchestra (ELO)",
		"song": "Mr. Blue Sky",
		"lyrics": ["Hey you with the pretty face, Welcome to the human race", "Mr. Blue Sky please tell us why, You had to hide away for so long (so long), Where did we go wrong?", "Look around see what you do, Everybody smiles at you, Mr. Blue Sky, Blue Sky Blue Sky"],
		"streamCount": 696691083,
		"hasPlayed": false,
		"year": 1977
	}, {
		"artist": "Eminem (ft. Nate Dogg)",
		"song": "'Till I Collapse",
		"lyrics": ["'Cause sometimes you just feel tired, feel weak, And when you feel weak...", "'Till I collapse I'm spilling these raps long as you feel 'em, 'Till the day that I drop you'll never say that I'm not killing 'em, 'Cause when I am not, then I'ma stop penning 'em, And I am not...", "'Till the roof comes off, 'till the lights go out, 'Till my legs give out, can't shut my mouth, 'Till the smoke clears out, am I high? Perhaps, I'ma rip this shit, 'till my bone collapse, 'Till the roof comes off, 'till the lights go out, 'Till my legs give out, can't..."],
		"streamCount": 1381192368,
		"hasPlayed": false,
		"year": 2002
	}, {
		"artist": "Eminem",
		"song": "Without Me",
		"lyrics": ["I've created a monster, 'Cause nobody wants to see Marshall no more, They want Shady, I'm chopped liver", "Guess who's back, Back again, Shady's back, Tell a friend, Guess who's back, guess who's back", "...Debbie!, Now this looks like a job for me, So everybody, just follow me, 'Cause we need a little, controversy, 'Cause it feels so empty, without me, I said This looks like a job for me, So everybody, just follow me, 'Cause we need a little, controversy, 'Cause it feels..."],
		"streamCount": 1216316640,
		"hasPlayed": false,
		"year": 2002
	}, {
		"artist": "Eric Clapton",
		"song": "Change the World",
		"lyrics": ["If I can reach the stars", "Baby, if I could change the world", "It's only in my dreams, And I can change the world, I will be the sunlight in your universe"],
		"streamCount": 127932663,
		"hasPlayed": false,
		"year": 1999
	}, {
		"artist": "Guns 'N Roses",
		"song": "Paradise City",
		"lyrics": ["", "Why I'm here I can't quite remember, The surgeon general says it's hazardous to breathe, I'd have another cigarette but I can't see, Tell me who you're gonna believe, Take...", "Take me down to the paradise city, Where the grass is green and the girls are pretty, Take me home, yeah yeah, Take me down to the paradise city, Where the grass is green and the girls are pretty, Oh, won't you..."],
		"streamCount": 756532359,
		"hasPlayed": false,
		"year": 1987
	}, {
		"artist": "Imagine Dragons",
		"song": "Whatever It Takes",
		"lyrics": ["...for the fall of man, Everybody praying for the end of times, Everybody hoping they could be the one, I was born to run, I was born for this...", "Whip, whip, Run me like a racehorse, Pull me like a ripcord, Break me down and build me up, I wanna be the slip, slip, Word upon your lip, lip, Letter that...", "Whatever it takes, 'Cause I love the adrenaline in my veins, I do whatever it takes, 'Cause I love how it feels when I break the chains, Whatever it takes..."],
		"streamCount": 885414935,
		"hasPlayed": false,
		"year": 2017
	}, {
		"artist": "Jackson Browne",
		"song": "Running on Empty",
		"lyrics": ["I don't know how to tell you all just how crazy this life feels", "... running up one-oh-one, I don't know where I'm running now, I'm just running on", "I'm just running on, Running on, running on empty, Running on, running blind, Running on, running into the sun, But I'm running behind"],
		"streamCount": 134108821,
		"hasPlayed": false,
		"year": 1997
	}, {
		"artist": "Jamiroquai",
		"song": "Virtual Insanity",
		"lyrics": ["Yeah, it's a wonder man can eat at all, When things are big that should be small", "...be, And nothing's gonna change the way we live, 'Cause we can always take, but never give, And now that things are changing for the worse, see, Whoa...", "And I just can't see that half of us immersed in sin, Is all we have to give these, Futures made of virtual insanity, now, Always seem to be governed by this love we have..."],
		"streamCount": 168873835,
		"hasPlayed": false,
		"year": 1996
	}, {
		"artist": "K'NAAN",
		"song": "Wavin' Flag",
		"lyrics": ["... around us, Staying forever young, Singing songs underneath the sun", "Oh-oh-oh", "When I get older I will be stronger, They'll call me freedom just like a wavin' flag, When I get older I will be stronger, They'll call me freedom just like a wavin' flag, So wave your flag, now wave your flag"],
		"streamCount": 124968039,
		"hasPlayed": false,
		"year": 2010
	}, {
		"artist": "KALEO",
		"song": "Broken Bones",
		"lyrics": ["The devil's going to make me a free man, The devil's going to set me free", "I went down, deep Texas, Mississippi state, Hoping things might go my way, For every hard-earned...", "...now, Ain't got no place to call a home, Only chains and broken bones, Ain't got no place to call a home, So come on Lord, what you waiting for?"],
		"streamCount": 66186321,
		"hasPlayed": false,
		"year": 2016
	}, {
		"artist": "Klaus Badelt (Pirates of the Caribbean)",
		"song": "He's a Pirate",
		"lyrics": ["", "", ""],
		"streamCount": 123930030,
		"hasPlayed": false,
		"year": 2003
	}, {
		"artist": "Marshmello (ft. Khalid)",
		"song": "Silence",
		"lyrics": ["Yeah, I'd rather be a lover than a fighter (fighter), 'Cause all my life, I've been fighting, Never...", "...and I've been quiet for too long, oh, I found peace in your violence, Can't tell me there's no point in trying", "...and I've been silent for too long, oh, I've been quiet for too long, oh, I've been quiet for too long, oh"],
		"streamCount": 1238834619,
		"hasPlayed": false,
		"year": 2017
	}, {
		"artist": "Panic! At The Disco",
		"song": "High Hopes",
		"lyrics": ["", "Mama said, It's uphill for oddities, Stranger crusaders, Ain't ever wannabes, The weird and the novelties, Don't ever change, We wanted everything", "Had to have high, high hopes for a living, Shooting for the stars when I couldn't make a killing, Didn't have a dime but I always had a vision, Always had high, high hopes, Had to have high, high hopes for a living, Didn't know how..."],
		"streamCount": 1250995128,
		"hasPlayed": false,
		"year": 2018
	}, {
		"artist": "Paul Simon (ft. Garfunkel)",
		"song": "The Sound of Silence",
		"lyrics": ["In restless dreams, I walked alone, Narrow streets...", "Hello darkness, my old friend, I've come to talk with you again", "When my eyes were stabbed by the flash of a neon light, That split the night, And touched the sound of silence"],
		"streamCount": 419961218,
		"hasPlayed": false,
		"year": 1964
	}, {
		"artist": "Post Malone",
		"song": "Circles",
		"lyrics": ["", "I knew that this was doomed from the get-go, You thought that it was special, special, But it was just...", "...let it go, Seasons change and our love went cold, Feed the flame 'cause we can't let it go, Run away, but we're running in circles, Run away..."],
		"streamCount": 1786112794,
		"hasPlayed": false,
		"year": 2019
	}, {
		"artist": "Queen",
		"song": "Another One Bites the Dust",
		"lyrics": ["", "...are you satisfied? How long can you stand the heat? Out of the doorway the bullets rip, To the sound of the beat, Look out! Another one...", "Another one bites the dust, Another one bites the dust, And another one gone, and another one gone, Another one bites the dust, Hey, I'm gonna get you, too, Another one bites the dust"],
		"streamCount": 1311527257,
		"hasPlayed": false,
		"year": 1980
	}, {
		"artist": "Queen",
		"song": "Under Pressure",
		"lyrics": ["Day day de mm hm, Da da da ba ba", "Pressure pushing down on me, Pressing down on you no man ask for, Under pressure", "This is our last dance, This is ourselves, Under pressure, Under pressure"],
		"streamCount": 1137375891,
		"hasPlayed": false,
		"year": 1981
	}, {
		"artist": "Rag'n'Bone Man",
		"song": "Human",
		"lyrics": ["Don't ask my opinion, Don't ask me to lie, Then beg for forgiveness...", "I'm no prophet or Messiah, Should go looking somewhere higher...", "Oh, some people got the real problems, Some people out of luck, Some people think I can solve them, Lord heavens above, I'm only human after all..."],
		"streamCount": 707269818,
		"hasPlayed": false,
		"year": 2017
	}, {
		"artist": "Red Hot Chili Peppers",
		"song": "Dark Necessities",
		"lyrics": ["", "Stumble down to the parking lot, You got no time for the afterthought, They're like ice cream for an astronaut, Well that's me looking for weed", "Dark necessities are part of my design, Tell the world that I'm falling from the sky, Dark necessities are part of my design"],
		"streamCount": 355432917,
		"hasPlayed": false,
		"year": 2016
	}, {
		"artist": "Rusted Root",
		"song": "Send Me On My Way",
		"lyrics": ["", "On my way, on my way, On my way, on my way", "I would like to hold my little hand, And we will run, we will, we will crawl, Send me on my way (on my way), Send me on my way (on my way), Send me on my way (on my way)"],
		"streamCount": 339392386,
		"hasPlayed": false,
		"year": 1990
	}, {
		"artist": "SHAUN (ft. Conor Maynard)",
		"song": "Way Back Home",
		"lyrics": ["", "Remember when I told you, No matter where I go, I'll never leave your side, You will never be alone, Even when we go...", "Even when we're old, Remember that I told you, I'll find my way back home"],
		"streamCount": 274071562,
		"hasPlayed": false,
		"year": 2018
	}, {
		"artist": "Sigala (ft. Ella Eyre, Meghan Trainor)",
		"song": "Just Got Paid",
		"lyrics": ["I just got paid", "I should grow up some day 'cause I got bills to pay, I can't be waking up at someone else's place, I know I drink too much", "Can't pay my rent this month, I should be saving up, but, I just got paid, I'm broke, but I'm balling, Don't know where we're going, We go in when we go out, I just got paid"],
		"streamCount": 205411635,
		"hasPlayed": false,
		"year": 2018
	}, {
		"artist": "The Dead South",
		"song": "In Hell I'll Be In Good Company",
		"lyrics": ["I see my red head, messed bed, tear shed, queen bee, my squeeze", "Brass knife sinks into my shoulder, Oh babe, don't know what I'm gonna do", "After I count down three rounds, in Hell I'll be in good company"],
		"streamCount": 81978337,
		"hasPlayed": false,
		"year": 2014
	}, {
		"artist": "The Rolling Stones",
		"song": "Paint It, Black",
		"lyrics": ["", "I see a red door, And I want it painted black, No colors anymore, I want them to turn black", "If I look hard enough, Into the setting sun, My love will laugh with me, Before the morning comes, I see a red door, And I want it..."],
		"streamCount": 742173285,
		"hasPlayed": false,
		"year": 1966
	}, {
		"artist": "The Weeknd",
		"song": "Save Your Tears",
		"lyrics": ["I don't know why I run away", "So, I made you think that I would always stay, I said some things that I should never say, Yeah, I...", "Save your tears for another day, ooh, girl (ah), I said save your tears for another day (ah)"],
		"streamCount": 1114912301,
		"hasPlayed": false,
		"year": 2020
	}, {
		"artist": "The White Stripes",
		"song": "Seven Nation Army",
		"lyrics": ["I'm talking to myself at night, Because I can't forget", "And the message coming from my eyes, Says, Leave it alone", "I'm gonna fight 'em all, A seven nation army couldn't hold me back"],
		"streamCount": 1099258989,
		"hasPlayed": false,
		"year": 2003
	}, {
		"artist": "TheFatRat",
		"song": "Unity",
		"lyrics": ["", "", ""],
		"streamCount": 120509760,
		"hasPlayed": false,
		"year": 2015
	}, {
		"artist": "Yogscast (Lewis & Simon)",
		"song": "Diggy Diggy Hole",
		"lyrics": ["", "Born underground, suckled from a teat of stone, Raised in the dark, the safety of our mountain home, Skin made of iron", "I am a dwarf and I'm digging a hole, Diggy diggy hole, diggy diggy hole, I am a dwarf and I'm digging a hole, Diggy diggy hole, digging a hole"],
		"streamCount": 21148537,
		"hasPlayed": false,
		"year": 2014
	}, {
		"artist": "Yunsae",
		"song": "Warm Puppy",
		"lyrics": ["Did I finally go mad and insane? I'll never let them break it, oh", "My life is going on & on & on, I might have been losing some of days, I just wanna be alive, Oh...", "Oh, I just want a warm puppy, warm puppy now, I just want a warm puppy, warm puppy now, I just want a warm puppy, warm puppy now, I just want..."],
		"streamCount": 62856,
		"hasPlayed": false,
		"year": 2020
	}, {
		"artist": "Zedd (ft. Maren Morris, Grey)",
		"song": "The Middle",
		"lyrics": ["Take a seat, Right over there, sat on the stairs, Stay or leave", "Oh baby, why don't you just meet me in the middle? I'm losing my mind just a little", "So why don't you just meet me in the middle? In the middle, Baby, why don't you just meet me in the middle, Baby? I'm losing my..."],
		"streamCount": 1238680460,
		"hasPlayed": false,
		"year": 2018
	}, {
		"artist": "Imagine Dragons",
		"song": "Believer",
		"lyrics": ["First things first, I'ma say all the words inside my head, I'm...", "Hoping my feelings, they would drown, But they never did, ever lived, ebbing and flowing, Inhibited, limited, Till it broke open and rained down, It rained down, like... Pain!", "Pain! Oh let the bullets fly, oh let them rain, My life, my love, my drive, it came from... Pain! You made me a, you made me a believer, believer"],
		"streamCount": 2150927401,
		"hasPlayed": false,
		"year": 2017
	}, {
		"artist": "KALEO",
		"song": "Way down We Go",
		"lyrics": ["Oh baby, yeah", "And way down we go go go go go, Way down we go go...", "Cause they will run you down, down 'til the dark, Yes and they will run you down, down 'til you fall, And they will run you down, down 'til you go"],
		"streamCount": 628196255,
		"hasPlayed": false,
		"year": 2016
	}, {
		"artist": "Marshmello (Ft. Anne-Marie)",
		"song": "FRIENDS",
		"lyrics": ["You say you love me, I say you crazy, We're nothing more than friends", "You can't be reasoned with, I'm done being polite, I've told you 1, 2, 3, 4, 5, 6000 times", "Haven't I made it obvious? Haven't I made it clear? Want me to spell it out for you? F-R-I-E-N-D-S, Haven't I made it obvious? Haven't I made it clear? Want me to spell it out...?"],
		"streamCount": 1211599289,
		"hasPlayed": false,
		"year": 2018
	}, {
		"artist": "Macklemore (ft. Ryan Lewis, Ray Dalton)",
		"song": "Can't Hold Us",
		"lyrics": ["So we put our hands up", "Return of the Mack, Get 'em, what it is, what it does, what it is, what it isn't, Looking for a better way to get up out of bed, Instead of getting on the Internet, And checking on who hit me, get up, Thrift shop, pimp-strut walkin', Little bit of humble, little bit of cautious, Somewhere between like...", "Can we go back? This is the moment, Tonight is the night, we'll fight 'til it's over, So we put our hands up, Like the ceiling can't hold us, Like the ceiling can't hold us, Can we go back? This is the moment"],
		"streamCount": 1554707106,
		"hasPlayed": false,
		"year": 2012
	}, {
		"artist": "Macklemore (ft. Ryan Lewis, Wanz)",
		"song": "Thrift Shop",
		"lyrics": ["They be like Oh that Gucci, that's hella tight! I'm like Yo, that's fifty dollars for a t-shirt!", "I'll wear your granddad's clothes (damn right!), I look incredible (uh, come on, man!), I'm in this big ass coat (big ass coat), From that thrift shop down the road (let's go!)", "(Goodwill... poppin' tags... yeah!), I'm gonna pop some tags, Only got twenty dollars in my pocket, I'm, I'm, I'm hunting, looking for a come up, This is fucking awesome!"],
		"streamCount": 857042334,
		"hasPlayed": false,
		"year": 2012
	}, {
		"artist": "Post Malone (ft. Swae Lee) (Into The Spider-Verse)",
		"song": "Sunflower",
		"lyrics": ["Ayy, ayy, ayy, ayy (ooh), Ooh, ooh", "Needless to say, I keep her in check, She was a bad-bad, nevertheless (yeah), Callin' it quits now, baby, I'm a wreck (wreck), Crash at my place, baby, you're a wreck (wreck)", "And you'll be left in the dust, Unless I stuck by ya, You're the sunflower, I think your love would be too much, Or you'll be left in the dust, Unless I stuck by ya"],
		"streamCount": 2349890984,
		"hasPlayed": false,
		"year": 2018
	}, {
		"artist": "Coldplay",
		"song": "Hymn for the Weekend",
		"lyrics": ["Oh, angel sent from up above", "Put your wings on me, wings on me, When I was so heavy, Pour on a symphony, When I'm low, low, low...", "Ah-oh-ah-oh-ah, Got me feeling drunk and high, So high, so high, Oh-ah-oh-ah-oh-ah"],
		"streamCount": 920496536,
		"hasPlayed": false,
		"year": 2015
	}, {
		"artist": "Nirvana",
		"song": "Smells Like Teen Spirit",
		"lyrics": ["Load up on guns, bring your friends, It's fun...", "Hello, hello, hello, how low, Hello, hello, hello, how low, Hello, hello", "...hello, With the lights out, it's less dangerous, Here we are now, entertain us, I feel stupid and contagious, Here we are now..."],
		"streamCount": 1343113355,
		"hasPlayed": false,
		"year": 1991
	}, {
		"artist": "Gotye (ft. Kimbra)",
		"song": "Somebody That I Used To Know",
		"lyrics": ["", "Now you're just somebody that I used to know, Now you're just somebody that I used to know", "...used to know... But you didn't have to cut me off, Make out like it never happened, And that we were nothing, And I don't even need your love, But you treat me like a stranger, And that feels so rough"],
		"streamCount": 1177385588,
		"hasPlayed": false,
		"year": 2011
	}, {
		"artist": "Clean Bandit (ft. Zara Larsson)",
		"song": "Symphony",
		"lyrics": ["Ah, ah, ah, ah, ah, ah, Ah ah, ah", "'Cause I've been hearing symphonies, Before all I heard was silence, A rhapsody for you and me", "I just wanna be part of your symphony, Will you hold me tight and not let go? Symphony, Like a love song on the radio"],
		"streamCount": 1149092432,
		"hasPlayed": false,
		"year": 2017
	}, {
		"artist": "The Chainsmokers (ft. Coldplay)",
		"song": "Something Just Like This",
		"lyrics": ["Doo-doo-doo, doo-doo-doo, Doo-doo-doo", "Where'd you wanna go? How much you wanna risk? I'm not looking for somebody, With some superhuman gifts, Some superhero", "Some fairytale bliss, Just something I can turn to, Somebody I can miss, I want something just like this"],
		"streamCount": 1862609578,
		"hasPlayed": false,
		"year": 2017
	}, {
		"artist": "Coldplay",
		"song": "Paradise",
		"lyrics": ["", "When she was just a girl she expected the world, But it flew away from her reach, And the...", "...set to rise, This could be para-para-paradise, Para-para-paradise, This could be para-para-paradise, (Oh oh oh oh oh, oh oh oh)"],
		"streamCount": 805197711,
		"hasPlayed": false,
		"year": 2011
	}, {
		"artist": "Kanye West",
		"song": "Stronger",
		"lyrics": ["(Work it harder, make it better), (Do it faster, makes us stronger), I need you right now, (More than ever)", "I ask, 'cause I'm not sure, Do anybody make real shit anymore? Bow in the presence of greatness, 'Cause right now thou hast forsaken us, You should be honored by my lateness", "(harder, better, faster, stronger), N-n-now that that don't kill me (oh, oh), Can only make me stronger (oh), I need you to hurry up now (oh), 'Cause I can't wait much longer (oh), I know I got to be right now (oh), 'Cause I can't get much wronger (oh)"],
		"streamCount": 1031311399,
		"hasPlayed": false,
		"year": 2007
	}, {
		"artist": "TheFatRat (ft. Laura Brehm)",
		"song": "Monody",
		"lyrics": ["I still hear you in the breeze, See your shadows in the trees", "", "...never change"],
		"streamCount": 95156559,
		"hasPlayed": false,
		"year": 2015
	}, {
		"artist": "TheFatRat (ft. Laura Brehm)",
		"song": "We'll Meet Again",
		"lyrics": ["Never thought I'd do this on my own (on my own), But now, I wield the sword you left behind", "The oak tree where I met you, And the writing on the statue, I still remember every word you said, I'm not a soldier but I'm fighting", "I won't give up 'cause there will be a day, We'll meet again, We'll meet again"],
		"streamCount": 21022117,
		"hasPlayed": false,
		"year": 2020
	}, {
		"artist": "TheFatRat (Dota 2)",
		"song": "Origin",
		"lyrics": ["", "", ""],
		"streamCount": 6468356,
		"hasPlayed": false,
		"year": 2018
	}, {
		"artist": "Vangelis",
		"song": "Conquest of Paradise",
		"lyrics": ["", "", "In noreni per ipe, In noreni cora, Tira mine per ito, Ne domina"],
		"streamCount": 59801354,
		"hasPlayed": false,
		"year": 1992
	}, {
		"artist": "JAY-Z (ft. Kanye West)",
		"song": "Ni--as In Paris",
		"lyrics": ["Excuse my French, but I'm in France, ahah, I'm just sayin', Prince William's ain't do it right...", "Ball so hard, motherfuckers wanna fine me", "...like me? Can you please remind me? (Ball so hard) this shit crazy, Y'all don't know that don't shit faze me, The Nets could go 0 for 82, And I look at you like this shit gravy, (Ball so hard) this shit weird, We ain't even 'posed to be here, but since we here, It's only right that we'd be fair, Psycho"],
		"streamCount": 920071796,
		"hasPlayed": false,
		"year": 2011
	}, {
		"artist": "League of Legends (ft. Becky G, Keke Palmer, SOYEON...)",
		"song": "GIANTS (True Damage)",
		"lyrics": ["(Yeah) Movin' too fast, have 'em movin' in slow-mo, I'm a God, better ask if you don't know, Homie, better put your pride aside", "Ay, no one can stop us, they'll try, but they won't, Ay, nada nos puede parar, oh, no", "We're wide awake now, our eyes are wide open, We're runnin' this world, we're keepin' it turnin', We're livin' like giants, yeah, giants, We're bigger than giants, we're giants, You thought that we were weak, but we comin' right back (right back), This time, you're gonna see how we..."],
		"streamCount": 113073437,
		"hasPlayed": false,
		"year": 2019
	}, {
		"artist": "Linkin Park",
		"song": "Numb",
		"lyrics": ["", "walking in your shoes, (Caught in the undertow, just caught in the undertow), Every step that I take is another mistake to you", "I've become so numb, I can't feel you there, Become so tired, So much more aware, I'm becoming this, All I want to do, Is be more like me, And be less like..."],
		"streamCount": 1072048833,
		"hasPlayed": false,
		"year": 2003
	}, {
		"artist": "Linkin Park",
		"song": "In the End",
		"lyrics": ["It starts with one, One thing I don't know why, It doesn't even matter how hard you try", "Things aren't the way they were before, You wouldn't even recognize me anymore, Not that you knew me back then, But it all comes back to me in the end", "I tried so hard and got so far, But in the end it doesn't even matter, I had to fall to lose it all, But in the end..."],
		"streamCount": 1289977026,
		"hasPlayed": false,
		"year": 2000
	}, {
		"artist": "Fall Out Boy",
		"song": "Centuries",
		"lyrics": ["Du du du du-du du du, Du du du du du-du du du", "(Hey yeah, oh hey, hey yeah), Remember me for centuries", "Some legends are told, Some turn to dust or to gold, But you will remember me, Remember me for centuries, And just one mistake, Is all it will take"],
		"streamCount": 878980255,
		"hasPlayed": false,
		"year": 2015
	}, {
		"artist": "Fall Out Boy",
		"song": "Immortals",
		"lyrics": ["Oh, I try to picture me without you, but I can't", "'Cause we could be immortals, immortals, Just not for long, for long, And live with me forever now...", "Immor—immortals, Immor—immortals, Immor—immortals, immortals"],
		"streamCount": 342432089,
		"hasPlayed": false,
		"year": 2015
	}, {
		"artist": "Arctic Monkeys",
		"song": "Do I Wanna Know",
		"lyrics": ["", "(Do I wanna know?), If this feelin' flows both ways? (Sad to see you go), Was sorta hopin' that you'd stay", "Crawlin' back to you, Ever thought of callin' when you've had a few? 'Cause I always do, Maybe I'm too busy being yours to..."],
		"streamCount": 1377807287,
		"hasPlayed": false,
		"year": 2013
	}, {
		"artist": "Kanye West",
		"song": "POWER",
		"lyrics": ["", "I'm living in that 21st century, Doing something mean to it, Do it better than anybody you ever seen do it, Screams from the haters, got a nice ring to it", "I guess every superhero need his theme music, No one man should have all that power, The clock's ticking, I just count the hours, Stop tripping, I'm tripping off the power, (21st-century schizoid man)"],
		"streamCount": 714932647,
		"hasPlayed": false,
		"year": 2010
	}, {
		"artist": "The Script",
		"song": "Hall of Fame",
		"lyrics": ["Yeah, you can be the greatest, you can be the best", "You can throw your hands up, You can beat the clock (yeah), You can move a mountain, You can break rocks, You can be a master, Don't wait for luck, Dedicate yourself and you gon' find yourself...", "Standing in the hall of fame (yeah), And the world's gonna know your name (yeah), 'Cause you burn with the brightest flame (yeah)"],
		"streamCount": 1001251800,
		"hasPlayed": false,
		"year": 2012
	}, {
		"artist": "Billie Eilish",
		"song": "bad guy",
		"lyrics": ["Don't say thank you or please, I do what I want when...", "So you're a tough guy, Like it really rough guy, Just can't get enough guy, Chest always so puffed guy, I'm that bad type, Make your mama sad type", "Duh, I'm only good at being bad, bad"],
		"streamCount": 2088893524,
		"hasPlayed": false,
		"year": 2019
	}, {
		"artist": "Olivia Rodrigo",
		"song": "good 4 you",
		"lyrics": ["Maybe I'm too emotional, Your apathy is like a wound in salt", "Well, good for you, you look happy and healthy, Not me, if you ever cared to ask, Good for you, you're doing great out there without me, baby, God, I wish that I could do that", "I've lost my mind, I've spent the night crying on the floor of my bathroom, But you're so unaffected, I really don't get it, But I guess good for you"],
		"streamCount": 1537758884,
		"hasPlayed": false,
		"year": 2021
	}, {
		"artist": "YOASOBI",
		"song": "Racing Into The Night",
		"lyrics": ["Hi ga shizumi dashita sora to kimi no sugata, Fensu-goshi ni kasanatte ita", "Itsu datte chikkutakku to, Naru sekai de nando datte sa, Fureru kokoronai kotoba urusai, Koe ni namida ga kobore-sōde mo, Arikitarina yorokobi kitto", "Sawagashī hibi ni waraenai kimi ni, Omoitsuku kagiri mabushii asu wo, Akenai yoru ni ochite yuku mae ni, Boku no te o tsukan de hora, Wasurete shimaitakute"],
		"streamCount": 350357007,
		"hasPlayed": false,
		"year": 2019
	}, {
		"artist": "TOTO",
		"song": "Africa",
		"lyrics": ["", "It's gonna take a lot to drag me away from you, There's nothing that a hundred men or more could ever do", "I bless the rains down in Africa, Gonna take some time to do the things we never had (ooh, ooh)"],
		"streamCount": 1237541056,
		"hasPlayed": false,
		"year": 1982
	}, {
		"artist": "Team America",
		"song": "America F--K Yeah",
		"lyrics": ["Rock 'n' roll (fuck yeah), The Internet (fuck yeah), Slavery (fuck yeah), Fuck yeah", "America, America, fuck yeah, Comin' again to save the motherfuckin' day, yeah, America, fuck yeah,", "Freedom is the only way, yeah, Terrorists, your game is through, 'Cause now you have to answer to, America, fuck yeah, So lick my butt and suck on my balls, America, fuck yeah"],
		"streamCount": 2813618,
		"hasPlayed": false,
		"year": 2004
	}, {
		"artist": "Selena Gomez (ft. Marshmello)",
		"song": "Wolves",
		"lyrics": ["To get to you, to get to you, to get to you", "I've looked for love in every stranger, Took too much to ease the anger, All for you, yeah, all for you, I've been running through the jungle, I've been crying with...", "I've been running through the jungle, I've been running with the wolves, To get to you, to get to you, I've been down the darkest alleys, Saw the dark side of the moon, To get to you, to get to you"],
		"streamCount": 1120022881,
		"hasPlayed": false,
		"year": 2017
	}
	// , {
	// 	"artist": "",
	// 	"song": "",
	// 	"lyrics": ["", "", ""],
	// 	"streamCount": 0,
	// 	"hasPlayed": false,
	// 	"year": 20
	// }

];


const pokemonCount = 30; //starting from 0
const audio = document.getElementById("audio");
const canvas = document.getElementById("canvas");
const songTitle = document.getElementById("songTitle");
const songArtist = document.getElementById("songArtist");
const start = document.getElementById("start");
const lyricsBox = document.getElementById("lyricsBox");
const endModal = document.getElementById("endModal");
const endArtist = document.getElementById("endArtist");
const endTitle = document.getElementById("endTitle");
const endScore = document.getElementById("endScore");
const endCoverImg = document.getElementById("endCoverImg");
const endYear = document.getElementById("endYear");
const endStreams = document.getElementById("endStreams");
const easyScore = document.getElementById("easyScore");
const hardScore = document.getElementById("hardScore");
const extremeScore = document.getElementById("extremeScore");
const poke1 = document.getElementById("poke1");
const poke2 = document.getElementById("poke2");
const poke3 = document.getElementById("poke3");
const poke1mobile = document.getElementById("poke1mobile");
const poke2mobile = document.getElementById("poke2mobile");
const poke3mobile = document.getElementById("poke3mobile");
const alertText = document.getElementById("alertText");
const alertBox = document.getElementById("alertBox");
const easyScoreFlex = document.getElementById("easyScoreFlex");
const hardScoreFlex = document.getElementById("hardScoreFlex");
const extremeScoreFlex = document.getElementById("extremeScoreFlex");
const easyBtnBox = document.getElementById("easyBtnBox");
const hardBtnBox = document.getElementById("hardBtnBox");
const extremeBtnBox = document.getElementById("extremeBtnBox");
const easyScoreBox = document.getElementById("easyScoreBox");
const hardScoreBox = document.getElementById("hardScoreBox");
const extremeScoreBox = document.getElementById("extremeScoreBox");
const arrow1Flex = document.getElementById("arrow1Flex");
const arrow2Flex = document.getElementById("arrow2Flex");
const easyText = document.getElementById("easyText");
const hardText = document.getElementById("hardText");
const extremeText = document.getElementById("extremeText");
const easyIcon = document.getElementById("easyIcon");
const hardIcon = document.getElementById("hardIcon");
const extremeIcon = document.getElementById("extremeIcon");
const LivesA = document.getElementById("LivesA");
const LivesB = document.getElementById("LivesB");
const ScoreA = document.getElementById("ScoreA");
const ScoreB = document.getElementById("ScoreB");
const PlayerA = document.getElementById("PlayerA");
const PlayerB = document.getElementById("PlayerB");
const endButton = document.getElementById("endButton");
const endButtonMobile = document.getElementById("endButtonMobile");
const wrongButton = document.getElementById("wrongButton");

const allLeft = document.getElementById("allLeft");
const easyLeft = document.getElementById("easyLeft");
const hardLeft = document.getElementById("hardLeft");
const extremeLeft = document.getElementById("extremeLeft");
setSongsLeft();

const mobile = window.matchMedia("(max-width: 768px)");
mobile.addEventListener("change", musicVisualizer);
mobile.addEventListener("change", end);

// songs.sort((a, b) => a.artist.localeCompare(b.artist)).forEach(i => {
// 	console.log(`${i.artist}: ${i.song}`);
// });

let abrSymbols = ["", "k", "M", "B", "T"];
function abr(number, dec) {

	// what tier? (determines symbol)
	let tier = Math.log10(Math.abs(number)) / 3 | 0;

	// if zero, we don't need a suffix
	if (tier == 0) return number;

	// get suffix and determine scale
	let suffix = abrSymbols[tier];
	let scale = Math.pow(10, tier * 3);

	// scale the number
	let scaled = number / scale;

	// format number and add suffix
	return scaled.toFixed(dec) + suffix;
}


let slider = document.getElementById('slider');
let difficultyLabel = document.getElementById('difficultyLabel');
noUiSlider.create(slider, {
	start: [800000000, 5000000000],
	snap: true,
	connect: true,
	margin: 200000000,
	range: {
		'min': 0, 			// 0
		'12.5%': 50000000, 	// 50M
		'25%': 200000000, 	// 200M
		'37.5%': 400000000, // 400M
		'50%': 600000000, 	// 600M
		'62.5%': 800000000, // 800M
		'75%': 1000000000, 	// 1B
		'87.5%': 2000000000,// 2B
		'max': 5000000000 	// 5B
	},
	direction: 'rtl',
	pips: {
		mode: 'range',
		density: 3,
		format: {
			to: function (a) {
				return abr(a, 0);
			}
		}
	}
});


let aSongs = null;
let song = null;

// base scores
const easyBaseS = 15;
const hardBaseS = 10;
const extremeBaseS = 5;

// scores after multiplying by difficulty
let easyS = 15;
let hardS = 10;
let extremeS = 5;

let sliderValueR = slider.noUiSlider.get()[0];
let sliderValueL = slider.noUiSlider.get()[1];

slider.noUiSlider.on('update', function (values, _handle) {
	sliderValueR = values[0];
	sliderValueL = values[1];

	// calculate a multiplier value which is larger the closer the slider is to the right
	let multiplier1 = Math.abs(1 - sliderValueR / 5000000000) * 150; // right slider multiplier
	let multiplier2 = Math.abs(1 - sliderValueL / 5000000000) * 10; // left slider multiplier

	// average of the two multipliers
	let multiplier = multiplier1 + multiplier2 / 2;

	// normalize the multiplier value to the range 1-5
	let normalizedMultiplier = Math.abs((multiplier - 100) / 5);

	difficultyLabel.innerHTML = normalizedMultiplier.toFixed(2);

	// calculate the scores
	easyS = Math.round(easyBaseS * normalizedMultiplier);
	hardS = Math.round(hardBaseS * normalizedMultiplier);
	extremeS = Math.round(extremeBaseS * normalizedMultiplier);
	easyScore.innerHTML = easyS;
	hardScore.innerHTML = hardS;
	extremeScore.innerHTML = extremeS;
});

function setSongsLeft() {
	allLeft.innerHTML = songs.length + " / " + songs.filter(x => x.hasPlayed === false).length;
	easyLeft.innerHTML = songs.filter(x => x.streamCount > 1000000000).length + " / " + songs.filter(x => x.hasPlayed === false && x.streamCount > 1000000000).length;
	hardLeft.innerHTML = songs.filter(x => x.streamCount <= 1000000000 && x.streamCount >= 400000000).length + " / " + songs.filter(x => x.hasPlayed === false && x.streamCount <= 1000000000 && x.streamCount >= 400000000).length;
	extremeLeft.innerHTML = songs.filter(x => x.streamCount < 400000000).length + " / " + songs.filter(x => x.hasPlayed === false && x.streamCount < 400000000).length;
}

function rPokemon(lastrandom) { // not working who cares sorry
	let random = Math.floor(Math.random() * pokemonCount);
	if (random >= lastrandom) {
		random += 1;
	}
	return random;
}

function newSong() {
	aSongs = songs.filter(i => i.streamCount >= sliderValueR && i.streamCount <= sliderValueL && !i.hasPlayed);
	let random = Math.floor(Math.random() * aSongs.length);
	song = aSongs[random];
	if (aSongs.length == 0) {
		alertShow("Nincs több zene! Válassz más nehézséget vagy kattints a RESET gombra!");
	} else {
		artistWFeat(songArtist);
		songTitle.innerHTML = song.song;
		song.hasPlayed = true;
		lyricsBox.innerHTML = "Lyrics";
		setSongsLeft();

		let randomPokemon = null;
		randomPokemon = rPokemon((poke1.src.substring(poke1.src.indexOf("pokemon%20images/") + 18).replace('-', ''), poke1.src.lastIndexOf("-1.webp")));

		poke1mobile.src = poke1.src = "pokemon images/" + randomPokemon + "-1.webp";
		poke2mobile.src = poke2.src = "pokemon images/" + randomPokemon + "-2.webp";
		poke3mobile.src = poke3.src = "pokemon images/" + randomPokemon + "-3.webp";
	}
}

function artistWFeat(sourceDiv) {
	if (song.artist.indexOf('(') !== -1) {
		const featSpan = document.createElement("span");
		featSpan.style.fontWeight = "normal";
		let featArtists = song.artist.substring(song.artist.indexOf('('));
		sourceDiv.innerHTML = song.artist.split('(')[0];
		featSpan.appendChild(document.createTextNode(featArtists));
		sourceDiv.appendChild(featSpan);
	} else {
		sourceDiv.innerHTML = song.artist;
	}
}


let aDuration = 0; // duration = base score in reverse order btw

function playSong(duration) {
	if (song == null) {
		alertShow("Nincs kiválasztva zene! Kattints a START gombra!");
	} else {
		aDuration = duration;
		if (duration == 5) {
			showMusicPlayer("easy");
			wrongButton.onclick = "";
			wrongButton.classList.remove("hover:bg-red-500");
			wrongButton.classList.add("opacity-60");
		}
		else if (duration == 10) {
			showMusicPlayer("hard");
			wrongButton.onclick = "";
			wrongButton.classList.remove("hover:bg-red-500");
			wrongButton.classList.add("opacity-60");
		}
		else if (duration == 15) {
			showMusicPlayer("extreme");
			wrongButton.setAttribute("onclick", "end(0);");
			wrongButton.classList.add("hover:bg-red-500");
			wrongButton.classList.remove("opacity-60");
		}

		audio.src = "songs/" + song.artist + ";" + song.song + ";" + duration + ".mp3";
		audioCtx.resume();
		audio.play();
	}
}

function setLyrics(x) {
	if (song.lyrics[x] == "") {
		if (song.lyrics[0] == "" && song.lyrics[1] == "" && song.lyrics[2] == "") {
			lyricsBox.innerHTML = "┻━┻ ︵ヽ(`Д´)ﾉ︵ ┻━┻";
		} else {
			lyricsBox.innerHTML = "¯\\_(ツ)_/¯";
		}
	} else {
		lyricsBox.innerHTML = song.lyrics[x];
	}
}

function showMusicPlayer(mode) {
	let modes = ["easy", "hard", "extreme"];
	modes.splice(modes.indexOf(mode), 1);
	window[modes[0] + "ScoreFlex"].style.display = "none";
	window[modes[1] + "ScoreFlex"].style.display = "none";
	start.onclick = "";
	start.classList.add("opacity-70");
	arrow1Flex.style.display = "none";
	arrow2Flex.style.display = "none";
	window[mode + "ScoreFlex"].classList.add("w-full");
	window[mode + "ScoreFlex"].classList.remove("md:w-1/5");
	window[mode + "ScoreFlex"].classList.remove("w-1/3");
	window[mode + "BtnBox"].classList.remove("md:w-64");
	window[mode + "BtnBox"].classList.add("place-items-start");
	window[mode + "Text"].classList.add("md:mx-0");
	window[mode + "Icon"].classList.add("md:mx-0");
	window[mode + "ScoreBox"].classList.remove("md:w-64");
	window[mode + "Text"].classList.add("md:ml-10");
	window[mode + "Icon"].classList.add("md:ml-10");
	window[mode + "ScoreBox"].classList.add("md:pl-16");
	window[mode + "ScoreBox"].classList.add("md:w-full");
	window[mode + "ScoreBox"].classList.add("md:text-left");
	if (mode == "easy") {
		poke1.classList.add("ml-52");
		poke1.classList.remove("ml-40");
		setLyrics(0);
	} else if (mode == "hard") {
		poke2.classList.add("ml-52");
		poke2.classList.remove("ml-32");
		setLyrics(1);
		window[mode + "BtnBox"].parentElement.classList.remove("md:mr-56");
	} else if (mode == "extreme") {
		poke3.classList.add("ml-52");
		poke3.classList.remove("right-0");
		setLyrics(2);
	}
	musicVisualizer();
	setTimeout(function () {
		window[modes[0] + "ScoreFlex"].style.display = "block";
		window[modes[1] + "ScoreFlex"].style.display = "block";
		canvas.style.display = "none";
		if (mobile.matches) {
			arrow1Flex.style.display = "none";
			arrow2Flex.style.display = "none";
		} else {
			arrow1Flex.style.display = "block";
			arrow2Flex.style.display = "block";
		}
		window[mode + "ScoreFlex"].classList.remove("w-full");
		window[mode + "ScoreFlex"].classList.add("md:w-1/5");
		window[mode + "ScoreFlex"].classList.add("w-1/3");
		window[mode + "BtnBox"].classList.add("md:w-64");
		window[mode + "BtnBox"].classList.remove("place-items-start");
		window[mode + "Text"].classList.remove("md:mx-0");
		window[mode + "Icon"].classList.remove("md:mx-0");
		window[mode + "ScoreBox"].classList.add("md:w-64");
		window[mode + "Text"].classList.remove("md:ml-10");
		window[mode + "Icon"].classList.remove("md:ml-10");
		window[mode + "ScoreBox"].classList.remove("md:pl-16");
		window[mode + "ScoreBox"].classList.remove("md:w-full");
		window[mode + "ScoreBox"].classList.remove("md:text-left");
		if (mode == "easy") {
			poke1.classList.remove("ml-52");
			poke1.classList.add("ml-40");
		} else if (mode == "hard") {
			poke2.classList.remove("ml-52");
			poke2.classList.add("ml-32");

			window[mode + "BtnBox"].parentElement.classList.add("md:mr-56");
		} else if (mode == "extreme") {
			poke3.classList.remove("ml-52");
			poke3.classList.add("right-0");
		}
	}, (aDuration + 2) * 1000);
}

let aPlayer = "A";

function setPlayer() {
	window["Player" + aPlayer].classList.add("bg-white");
	window["Player" + aPlayer].classList.add("text-purple-700");
	window["Player" + aPlayer].classList.remove("text-white");
	window["Lives" + aPlayer].parentElement.parentElement.classList.add("bg-purple-700/60");
	window["Lives" + aPlayer].parentElement.parentElement.classList.remove("bg-purple-800/50");
	let players = ["A", "B"];
	players.splice(players.indexOf(aPlayer), 1);
	window["Player" + players[0]].classList.remove("bg-white");
	window["Player" + players[0]].classList.remove("text-purple-700");
	window["Player" + players[0]].classList.add("text-white");
	window["Lives" + players[0]].parentElement.parentElement.classList.add("bg-purple-800/50");
	window["Lives" + players[0]].parentElement.parentElement.classList.remove("bg-purple-700/60");
}

function changePlayer() {
	let players = ["A", "B"];
	players.splice(players.indexOf(aPlayer), 1);
	aPlayer = players[0];
}

setPlayer();

function end(state) {
	if (aDuration == 0 || song == null) {
		alertShow("Nem volt lejátszva zene!");
	} else {
		if (state != 0) {
			if (aDuration == 5) {
				endScore.innerHTML = easyS;
				window["Score" + aPlayer].innerHTML = parseInt(window["Score" + aPlayer].textContent) + easyS;
				audio.src = "songs/" + song.artist + ";" + song.song + ";15.mp3";
				audio.play();
			} else if (aDuration == 10) {
				endScore.innerHTML = hardS;
				window["Score" + aPlayer].innerHTML = parseInt(window["Score" + aPlayer].textContent) + hardS;
				audio.src = "songs/" + song.artist + ";" + song.song + ";15.mp3";
				audio.play();
			} else if (aDuration == 15) {
				endScore.innerHTML = extremeS;
				window["Score" + aPlayer].innerHTML = parseInt(window["Score" + aPlayer].textContent) + extremeS;
			}
		} else {
			endScore.innerHTML = 0;
		}

		window["Lives" + aPlayer].innerHTML = parseInt(window["Lives" + aPlayer].textContent) - 1;
		guessedArtistPressed = false;
		endModal.style.display = "block";
		if (mobile.matches) {
			endButtonMobile.style.display = "block";
		} else {
			endButton.style.display = "block";
		}
		endCoverImg.style.display = "block";
		endScore.parentElement.style.display = "block";
		endYear.style.display = "block";
		endStreams.style.display = "block";
		artistWFeat(endArtist);
		endTitle.innerHTML = song.song;
		endCoverImg.src = "cover images/" + song.artist + ';' + song.song + ".webp";
		endYear.innerHTML = song.year;
		endStreams.innerHTML = abr(song.streamCount, 2);
		lyricsBox.innerHTML = "Lyrics";
		document.body.style.overflowY = "hidden";
		window.scrollTo(0, 0);
		start.onclick = newSong;
		start.classList.remove("opacity-70");
		song = null;
		aDuration = 0;
	}
}

let guessedArtistPressed = false;

function guessedArtist() {
	if (!guessedArtistPressed) {
		window["Lives" + aPlayer].innerHTML = parseInt(window["Lives" + aPlayer].textContent) + 1;
		guessedArtistPressed = true;
	} else {
		alertShow("Már kapott életet!");
	}
}

function resetPlayers() {
	ScoreA.innerHTML = 0;
	ScoreB.innerHTML = 0;
	LivesA.innerHTML = 3;
	LivesB.innerHTML = 3;
	aPlayer = "A";
	setPlayer();
}

function resetSongs() {
	songs.forEach(function (x) {
		x.hasPlayed = false;
	});
	setSongsLeft();
}

function closeModal() {
	if (parseInt(LivesA.textContent) <= 0 && parseInt(LivesB.textContent) <= 0) {
		if (parseInt(ScoreA.textContent) == parseInt(ScoreB.textContent)) {
			LivesA.innerHTML = parseInt(LivesA.textContent) + 1;
			LivesB.innerHTML = parseInt(LivesB.textContent) + 1;
			changePlayer();
			setPlayer();
			endModal.style.display = "none";
			document.body.style.overflowY = "auto";
		} else {

			endButton.style.display = "none";
			endButtonMobile.style.display = "none";
			endCoverImg.style.display = "none";
			endScore.parentElement.style.display = "none";
			endYear.style.display = "none";
			endStreams.style.display = "none";
			if (parseInt(ScoreA.textContent) > parseInt(ScoreB.textContent)) {
				aPlayer = "A";
			} else {
				aPlayer = "B";
			}
			let players = ["A", "B"];
			players.splice(players.indexOf(aPlayer), 1);
			endArtist.innerHTML = "Vesztes: " + players[0] + ", " + window["Score" + players[0]].textContent + " <i class='fa-solid fa-star-half-stroke mt-2 md:mt-3'></i>";
			endTitle.innerHTML = "Győztes: " + aPlayer + ", " + window["Score" + aPlayer].textContent + " <i class='fa-solid fa-star-half-stroke mt-2 md:mt-3'></i>";
			resetPlayers();
			aPlayer = "B";
		}
	} else {
		let players = ["A", "B"];
		players.splice(players.indexOf(aPlayer), 1);
		if (parseInt(window["Lives" + players[0]].textContent) > 0) {
			changePlayer();
			setPlayer();
		}
		endModal.style.display = "none";
		document.body.style.overflowY = "auto";
	}
}

function alertShow(text) {
	alertText.innerHTML = text;
	alertBox.style.display = "block";
}


let audioCtx = new AudioContext();
let analyser = audioCtx.createAnalyser();
let source = audioCtx.createMediaElementSource(audio);
source.connect(analyser);
analyser.connect(audioCtx.destination);

function musicVisualizer() {
	if (mobile.matches) {
		canvas.style.display = "none";
	} else {
		canvas.style.display = "block";
	}

	analyser.fftSize = 256;
	const bufferLength = analyser.frequencyBinCount;
	const dataArray = new Uint8Array(bufferLength);

	const HEIGHT = canvas.height;
	const WIDTH = canvas.width;
	let canvasCtx = canvas.getContext("2d");

	canvasCtx.clearRect(0, 0, WIDTH, HEIGHT);

	function draw() {
		requestAnimationFrame(draw);

		analyser.getByteFrequencyData(dataArray);

		canvasCtx.fillStyle = 'rgb(0, 0, 0)';
		canvasCtx.fillRect(0, 0, WIDTH, HEIGHT);

		const barWidth = (WIDTH / bufferLength) * 2.5;
		let barHeight;
		let a = 0;

		for (let i = 0; i < bufferLength; i++) {
			barHeight = dataArray[i] * 2;

			canvasCtx.fillStyle = 'rgb(' + barHeight + ',' + barHeight + ',' + barHeight + ')';
			canvasCtx.fillRect(a, HEIGHT - barHeight / 2, barWidth, barHeight);

			a += barWidth + 1;
		}
	}
	draw();
}

// This works, but buggy when you spam the button (already ongoing Timeout)
let observer = new MutationObserver(function (mutations) {
	mutations.forEach(function () {
		setTimeout(() => { if (alertBox.style.display == "block") alertBox.style.display = "none"; }, 10000);
	});
});

observer.observe(alertBox, { attributes: true, attributeFilter: ['style'] });